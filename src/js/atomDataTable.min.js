!function($){$.fn.atomDataTable=function(customOptions){var sortClass="a-sort",directionAttr="data-direction";const direction=["asc","desc"],types=["string","number","Ymd","m/d/Y","m-d-y","d/m/Y","d-m-y"];var tableid=Date.now().toString(Math.floor(10*Math.random())+10)+Math.floor(1e3*Math.random()).toString(Math.floor(10*Math.random())+10),regex_dateDb=/^((19|20)\d{2})((0|1)\d{1})([0-3]\d{1})/g,regex_dateFrSlash=/^([0-3]\d{1})\/([0-1]\d{1})\/((19|20)\d{2})/g,regex_dateEnSlash=/^((0|1|2)\d{1})\/([0-3]\d{1})\/((19|20)\d{2})/g,regex_dateEnDash=/^((19|20)\d{2})-([0-1]\d{1})-([0-3]\d{1})/g,regex_dateFrDash=/^([0-3]\d{1})-([0-1]\d{1})-((19|20)\d{2})/g,options={autoFilter:!0,filterableColumn:!1,orderableColumn:!1,preOrderedColumn:!1,columnType:!1,autoSort:!1};if(this.initialize=function(customOptions){var table=$(this);function addClassFilter(){table.find("tbody").find("tr").addClass(`atom-tr-${tableid}`)}function addInputShuffleField(){var searchField;$('<div class="ar"><i class="fas fa-search"></i><input id="atom-search-'+tableid+'" class="a-input a-table-filter" style="max-width: fit-content;" placeholder="Mot-clef"></div>').insertBefore(table);var shuffler=new atomShuffle({itemSelector:`.atom-tr-${tableid}`,animationTime:200});$(`#atom-search-${tableid}`).keyup((function(){var inputValue=$(this).val().toLowerCase();shuffler.filter((function(element){return atomDatatableUpdateFilter(element,inputValue)}))}))}function atomDatatableUpdateFilter(element,inputValue){if(options.filterableColumn instanceof Array){var txtRes="";return options.filterableColumn.forEach((function(index){txtRes+=$(`td:nth-child(${index-1})`,element).text()})),txtRes.toLowerCase().includes(inputValue)}return element.text().toLowerCase().includes(inputValue)}function addClassSortHead(){var tableHeader;options.orderableColumn instanceof Array?$.each(options.orderableColumn,(function(key,colNumber){isNaN(colNumber)||$(table.find("th").eq(colNumber).addClass("a-sort")).on("click",(function(){sortColumn(colNumber)}))})):$("thead tr",table).find("th").each((function(){$(this).addClass("a-sort"),$(this).on("click",(function(){sortColumn($(this).index())}))}))}function sortColumn(colNumber){if(colNumber>=$("thead tr th",table).length)console.log("Invalid column number. count start at 0.");else{var rows=table.children("tbody").children().detach().get();rows.forEach(value=>{value.hasAttribute(directionAttr)?value.getAttribute(directionAttr)==direction[0]?(value.setAttribute(directionAttr,direction[1]),ascending=!1):value.getAttribute(directionAttr)==direction[1]&&(value.setAttribute(directionAttr,direction[0]),ascending=!0):(value.setAttribute(directionAttr,direction[0]),ascending=!0)}),colType=types.includes(options.columnType[colNumber])?options.columnType[colNumber]:types[0],functionCaller(colType,ascending,colNumber,rows),table.children("tbody").append(rows)}}function sortString(rows,value,ascending){rows.sort((function(a,b){return ascending?a.children[value].innerHTML.toLowerCase()<b.children[value].innerHTML.toLowerCase()?-1:0:a.children[value].innerHTML.toLowerCase()>b.children[value].innerHTML.toLowerCase()?-1:0}))}function sortNumber(rows,value,ascending){rows.sort((function(a,b){if(!isNaN(a.children[value].innerHTML)&&!isNaN(b.children[value].innerHTML))return ascending?a.children[value].innerHTML-b.children[value].innerHTML:b.children[value].innerHTML-a.children[value].innerHTML;throwError(value,rows)}))}function sortDbDate(rows,value,ascending){rows.sort((function(a,b){var allRegex=getRegexConstructs(regex_dateDb);if(allRegex[0].test(a.children[value].innerHTML),allRegex[1].test(b.children[value].innerHTML))return ascending?a.children[value].innerHTML-b.children[value].innerHTML:b.children[value].innerHTML-a.children[value].innerHTML;throwError(value,rows)}))}function sortDateEnSlash(rows,value,ascending){rows.sort((function(a,b){var allRegex=getRegexConstructs(regex_dateEnSlash);if(allRegex[0].test(a.children[value].innerHTML),allRegex[1].test(b.children[value].innerHTML))return ascending?new Date(a.children[value].innerHTML)-new Date(b.children[value].innerHTML):new Date(b.children[value].innerHTML)-new Date(a.children[value].innerHTML);throwError(value,rows)}))}function sortDateEnDash(rows,value,ascending){rows.sort((function(a,b){var allRegex=getRegexConstructs(regex_dateEnDash);if(allRegex[0].test(a.children[value].innerHTML),allRegex[1].test(b.children[value].innerHTML)){var explodedDateA=a.children[value].innerHTML.split("-"),explodedDateB=b.children[value].innerHTML.split("-");return ascending?new Date(`${explodedDateA[1]}/${explodedDateA[2]}/${explodedDateA[0]}`)-new Date(`${explodedDateB[1]}/${explodedDateB[2]}/${explodedDateB[0]}`):new Date(`${explodedDateB[1]}/${explodedDateB[2]}/${explodedDateB[0]}`)-new Date(`${explodedDateA[1]}/${explodedDateA[2]}/${explodedDateA[0]}`)}throwError(value,rows)}))}function sortDateFrSlash(rows,value,ascending){rows.sort((function(a,b){var allRegex=getRegexConstructs(regex_dateFrSlash);if(allRegex[0].test(a.children[value].innerHTML),allRegex[1].test(b.children[value].innerHTML)){var explodedDateA=a.children[value].innerHTML.split("/"),explodedDateB=b.children[value].innerHTML.split("/");return ascending?new Date(`${explodedDateA[1]}/${explodedDateA[0]}/${explodedDateA[2]}`)-new Date(`${explodedDateB[1]}/${explodedDateB[0]}/${explodedDateB[2]}`):new Date(`${explodedDateB[1]}/${explodedDateB[0]}/${explodedDateB[2]}`)-new Date(`${explodedDateA[1]}/${explodedDateA[0]}/${explodedDateA[2]}`)}throwError(value,rows)}))}function sortDateFrDash(rows,value,ascending){rows.sort((function(a,b){var allRegex=getRegexConstructs(regex_dateFrDash);if(allRegex[0].test(a.children[value].innerHTML),allRegex[1].test(b.children[value].innerHTML)){var explodedDateA=a.children[value].innerHTML.split("-"),explodedDateB=b.children[value].innerHTML.split("-");return ascending?new Date(`${explodedDateA[1]}/${explodedDateA[0]}/${explodedDateA[2]}`)-new Date(`${explodedDateB[1]}/${explodedDateB[0]}/${explodedDateB[2]}`):new Date(`${explodedDateB[1]}/${explodedDateB[0]}/${explodedDateB[2]}`)-new Date(`${explodedDateA[1]}/${explodedDateA[0]}/${explodedDateA[2]}`)}throwError(value,rows)}))}function functionCaller(funcName,ascending,value,rows){var functions;({string:function(){sortString(rows,value,ascending)},number:function(){sortNumber(rows,value,ascending)},Ymd:function(){sortDbDate(rows,value,ascending)},"m/d/Y":function(){sortDateEnSlash(rows,value,ascending)},"d/m/Y":function(){sortDateFrSlash(rows,value,ascending)},"m-d-y":function(){sortDateEnDash(rows,value,ascending)},"d-m-y":function(){sortDateFrDash(rows,value,ascending)}})[funcName]()}function getRegexConstructs(regex){return[new RegExp(regex),new RegExp(regex)]}function throwError(value,rows){throw table.children("tbody").append(rows),`Wrong format type for column ${value} !`}return $.extend(options,customOptions),addClassSortHead(),addClassFilter(),addInputShuffleField(),this},this.destroy=function(){return this.unbind(),null},!(this.length>1))return this.initialize(customOptions);console.log("Atom Datatable : Can't initialize on mutilple objects.")}}(jQuery);