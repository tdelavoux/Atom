function reinitColor(){$("select").change(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()}),$(".a-verify-text").keyup(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()}),$(".a-verify-textarea-with-count").keyup(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text-with-count").detach()}),$(".a-verify-int").keyup(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()}),$(".a-verify-email").keyup(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()}),$(".a-verify-date").keyup(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()}),$(".a-verify-phone").keyup(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()}),$(".a-verify-float").keyup(function(){$(this).parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()}),$(".a-verify-checked").change(function(){$(this).parent().parent().removeClass("a-form-error"),$(this).parent().parent().find(".a-input-error-text").detach()}),$('input[type="radio"]').change(function(){$(this).parent().parent().removeClass("a-form-error"),$(this).parent().parent().find(".a-input-error-text").detach()}),$(".a-verify-file").change(function(){$(this).parent().parent().removeClass("a-form-error"),$(this).parent().find(".a-input-error-text").detach()})}const E_S="",N_R_S="non-required";$(function(){async function compute(form,self){var blocage=!1,notifyNone=void 0!==form.attr("a-notify-none")&&"false"!==form.attr("a-notify-none"),notifyAll=void 0!==form.attr("a-notify-all")&&"false"!==form.attr("a-notify-all"),notifyInputNone=void 0!==form.attr("a-input-notify-none")&&"false"!==form.attr("a-input-notify-none"),colorInput=void 0!==form.attr("a-disable-color")&&"false"!==form.attr("a-disable-color"),checkVisi=!!form.attr("a-check-invisible")&&form.attr("a-check-invisible"),optVerif=!!form.attr("a-data-opt-bloc")&&form.attr("a-data-opt-bloc"),callback=!!form.attr("a-data-function")&&form.attr("a-data-function"),err=new Array;if($(".a-verify-select",form).each(function(){var error="Aucune sélection faite",verif=$(this).attr("a-verif")?$(this).attr("a-verif"):E_S,name=$(this).attr("a-name")?$(this).attr("a-name"):"Selecteur",errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message");(checkVisi||$(this).is(":visible"))&&($("option:selected",this).val()&&$("option:selected",this).val()!==verif?$(this).val()!==E_S&&eval($(this).attr("a-alternate-verif"))?(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:error,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-text",form).each(function(){var minLength=$(this).attr("a-min-length")?parseInt($(this).attr("a-min-length")):0,maxLength=$(this).attr("a-max-length")?parseInt($(this).attr("a-max-length")):null,errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",name=$(this).attr("a-name")?$(this).attr("a-name"):"Texte",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message");(checkVisi||$(this).is(":visible"))&&($(this).val().trim()!==E_S||nullable?0!==$(this).val().length&&$(this).val().length<minLength?(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie trop courte (min "+minLength+" caractères)",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):0!==$(this).val().length&&null!==maxLength&&$(this).val().length>maxLength?(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie  trop longue (max "+maxLength+" caractères)",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie obligatoire",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-textarea-with-count",form).each(function(){var minLength=$(this).attr("a-min-length")?parseInt($(this).attr("a-min-length")):0,maxLength=$(this).attr("a-max-length")?parseInt($(this).attr("a-max-length")):null,name=$(this).attr("a-name")?$(this).attr("a-name"):"Commentiare",errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message");(checkVisi||$(this).is(":visible"))&&($(this).val().trim()!==E_S||nullable?0!==$(this).val().length&&$(this).val().length<minLength?(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie trop courte (min "+minLength+" caractères)",name:name}),$(this).parent().find(".a-input-error-text-with-count").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):0!==$(this).val().length&&null!==maxLength&&$(this).val().length>maxLength?(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie  trop longue (max "+maxLength+" caractères)",name:name}),$(this).parent().find(".a-input-error-text-with-count").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text-with-count").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie obligatoire",name:name}),$(this).parent().find(".a-input-error-text-with-count").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-date",form).each(function(){var format=$(this).attr("a-date-format")?$(this).attr("a-date-format").toUpperCase():"DD/MM/YYYY",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message"),name=$(this).attr("a-name")?$(this).attr("a-name"):"Date",errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",regFormat=format.replace(new RegExp("/","g"),"([\\/])"),regFormat=regFormat.replace(new RegExp("-","g"),"([-])"),regFormat=regFormat.replace(new RegExp("DD","g"),"(0?[1-9]|[12][0-9]|3[01])"),regFormat=regFormat.replace(new RegExp("MM","g"),"(0?[1-9]|1[0-2])"),regFormat=regFormat.replace(new RegExp("YYYY","g"),"([0-9]{4})"),regFormat=regFormat.replace(new RegExp("YY","g"),"([0-9]{2})"),regFormat=regFormat+"$",regex=new RegExp("^"+regFormat);(checkVisi||$(this).is(":visible"))&&($(this).val().trim()!==E_S||nullable?$(this).val().trim()===E_S||regex.test($(this).val())?eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Format invalide. Attendu : "+format,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie obligatoire",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-phone",form).each(function(){var errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",format=$(this).attr("a-phone-format")&&"mobile"===$(this).attr("a-phone-format")?"mobile":"fixe",name=$(this).attr("a-name")?$(this).attr("a-name"):"Telephone",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message"),regFormatFixe="([0][0-9]{9})$|([0][0-9])(([ ][0-9]{2}){4})$|([0][0-9])(([.][0-9]{2}){4})",regFormatMobile="([06][0-9]{9})$|([06])(([ ][0-9]{2}){4})$|([06])(([.][0-9]{2}){4})",regFormat="^"+("mobile"===format?regFormatMobile:regFormatFixe)+"$",regex=new RegExp(regFormat);(checkVisi||$(this).is(":visible"))&&($(this).val().trim()!==E_S||nullable?$(this).val().trim()===E_S||regex.test($(this).val())?eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Format inconnu. sans séparateur, point ou espace acceptés.",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie obligatoire",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-email",form).each(function(){var name=$(this).attr("a-name")?$(this).attr("a-name"):"Mail",errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message"),regFormatMobile="\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+",regFormat="^"+regFormatMobile+"$",regex=new RegExp(regFormat);(checkVisi||$(this).is(":visible"))&&($(this).val().trim()!==E_S||nullable?$(this).val().trim()===E_S||regex.test($(this).val())?eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Format invalide",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie obligatoire",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-int",form).each(function(){var minVal=parseInt($(this).attr("a-min"))?parseInt($(this).attr("a-min")):0,maxVal=parseInt($(this).attr("a-max"))?parseInt($(this).attr("a-max")):2147483647,name=$(this).attr("a-name")?$(this).attr("a-name"):"Mail",errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message");(checkVisi||$(this).is(":visible"))&&(!$(this).val()||$.isNumeric($(this).val())&&!1===$(this).val().includes(".")?$(this).val().trim()!==E_S||nullable?$(this).val()<minVal||$(this).val()>maxVal?(displayMsg&&err.push({elem:$(this),errorMessage:(minVal?"Min : "+minVal:"")+(maxVal?" Max : "+maxVal:""),name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie obligatoire",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Nombre entier attendu",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-float",form).each(function(){var minVal=parseInt($(this).attr("a-min"))?parseInt($(this).attr("a-min")):0,maxVal=parseInt($(this).attr("a-max"))?parseInt($(this).attr("a-max")):2147483647,name=$(this).attr("a-name")?$(this).attr("a-name"):"Mail",errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message");(checkVisi||$(this).is(":visible"))&&($(this).val()&&!$.isNumeric($(this).val())?(displayMsg&&err.push({elem:$(this),errorMessage:"Nombre attendu",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):$(this).val().trim()!==E_S||nullable?parseFloat($(this).val())<minVal||parseFloat($(this).val())>maxVal?(displayMsg&&err.push({elem:$(this),errorMessage:(minVal?"Min : "+minVal:"")+(maxVal?" Max : "+maxVal:""),name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0):(displayMsg&&err.push({elem:$(this),errorMessage:"Saisie obligatoire",name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0))}),$(".a-verify-checked",form).each(function(){var error="Attention, "+($(this).attr("a-name")?$(this).attr("a-name"):"La checkbox ")+" n'a pas été accepté(e) / coché(e). ",name=$(this).attr("a-name")?$(this).attr("a-name"):"Checkbox",displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message"),errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect";(checkVisi||$(this).parent().is(":visible"))&&(eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0),$(this).prop("checked")||($(this).parent().parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().parent().addClass("a-form-error"),displayMsg&&err.push({elem:$(this),errorMessage:error,name:name}),err=jQuery.unique(err),blocage=!0))}),$(".a-verify-one-in-list",form).each(function(){var name=$(this).attr("a-name")?$(this).attr("a-name"):"Liste de Checkboxs",error="Attention, "+name+" Aucune selection.",checkName=$(this).attr("a-shared-name"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message"),errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect";if(checkVisi||$(this).parent().is(":visible")){var counter2=0;$('input[data-shared-name="'+checkName+'"]').is(":checked")&&counter2++,eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0),0===counter2&&($(this).parent().parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().parent().addClass("a-form-error"),displayMsg&&err.push({elem:$(this),errorMessage:error,name:name}),blocage=!0)}}),$(".a-verify-radio",form).each(function(){var error="Attention, "+($(this).attr("a-name")?$(this).attr("a-name"):" Boutons Radios :")+" aucune selection. ",name=$(this).attr("a-name")?$(this).attr("a-name"):"Radio",radioName=$(this).attr("name"),displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message"),errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect";if(checkVisi||$(this).parent().is(":visible")){var counter=0;$('input[name="'+radioName+'"]').is(":checked")&&counter++,eval($(this).attr("a-alternate-verif"))&&(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().addClass("a-form-error"),blocage=!0),0===counter&&($(this).parent().parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().parent().addClass("a-form-error"),displayMsg&&err.push({elem:$(this),errorMessage:error,name:name}),blocage=!0)}}),$(".a-verify-file",form).each(function(){var name=$(this).attr("a-name")?$(this).attr("a-name"):"Fichier",error="Attention, "+name+" Aucune selection. ",displayMsg=void 0===$(this).attr("a-disable-message")||"false"===$(this).attr("a-disable-message"),errCustomMsg=$(this).attr("a-error-message")?$(this).attr("a-error-message"):"Champs incorrect",nullable=void 0!==$(this).attr("a-nullable")&&"false"!==$(this).attr("a-nullable");(checkVisi||$(this).is(":visible"))&&($(this)[0].files.length||nullable?eval($(this).attr("a-alternate-verif"))?(displayMsg&&err.push({elem:$(this),errorMessage:errCustomMsg,name:name}),$(this).parent().find(".a-input-error-text").detach(),!colorInput&&$(this).parent().parent().addClass("a-form-error"),blocage=!0):$(this).parent().find(".a-input-error-text").detach():($(this).parent().find(".a-input-error-text").detach(),displayMsg&&err.push({elem:$(this),errorMessage:error,name:name}),!colorInput&&$(this).parent().parent().addClass("a-form-error"),blocage=!0))}),!1!==optVerif&&!0===await eval(optVerif)&&(blocage=!0),!0===blocage){var uniqID=Date.now()*Math.round(100*Math.random());!notifyInputNone&&err.forEach(function(e){e.elem.parent().hasClass("a-count-area")?e.elem.parent().append('<span class="a-input-error-text-with-count">'+e.errorMessage+"</span>"):e.elem.parent().append('<span class="a-input-error-text">'+e.errorMessage+"</span>")});var errMsg=[...new Map(err.map(e=>[e.name,e])).values()];notifyAll?errMsg.forEach(function(e){$.atomNotification((e.name?e.name:"Champ incorrect ")+" : "+e.errorMessage,"danger")}):notifyNone||$.atomNotification("Des erreurs ont été détectées dans le formulaire. Merci de vérifier les données.","danger"),err={}}else callback?(eval(callback),form.submit(function(e){e.preventDefault()})):form.unbind("submit").submit();reinitColor(),self.blur()}$(".a-form-handler").click(function(){var e=$(this),a=e.closest("form");a.submit(function(e){e.preventDefault()}),compute(a,e)})});